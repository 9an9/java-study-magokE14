# 예외는 진짜 예외 상황에만 사용하라 

- 예외는 절대로 일상적인 제어 흐름용으로 쓰여선 안 된다.
- 표준적이고 쉽게 이해되는 관용구를 사용하자.(자바 플랫폼에게 최적화를 맡기자.)

## 상태 의존적 메서드와 상태 검사 메서드는 함께 제공하자

- 상태의존적 메서드?
  - 특정 상태일때만 실행 가능한 메서드(Iterator.next())

- 상태검사 메서드?
  - 상태의존적메서드를 사용가능한지 여부 판단 메서드(Iterator.hasNext())
  - 상태검사 메서드는 빈 옵셔널방식(아이템55)으로 대체될 수도 있다.
- 잘 만들어진 API라면 클라이언트가 예외를 사용할 일이 없게 해야 한다.

```java
//활용코드
for(Iterator<Foo> i = collection.iterator(); i.hasNext();){
  Foo foo = i.next();
  ...
}
```

```java
//상태검사 메서드가 없다면?
// 아래와 같이 직접 예외처리를 해줘야함. 클라이언트가!
try{
  Iterator<Foo> i = collection.iterator();
  while(true){ // 반복문에 예외를 사용하면 속도도느리고 가독성도 떨어진다. 엉뚱한 곳에서 발생한 버그를 숨기기도 함
    Foo foo = i.next();
    ...
  }
}catch (NoSuchElementExcetption e){}
```

```
예외는 예외상황에서만 쓰자.
정상적인 제어 흐름에서는 사용하지말고 위 코드처럼 프로그래머에게 예외처리를 강요하는 API를 만들지 말자.
```

## 기타
- JVM은 배열에 접근할 때마다 경계를 넘지 않는지 검사한다.
- JVM의 예외처리와 자체적인 예외처리가 겹칠경우 나머지 하나는 생략된다.
- 아이템 55 : 옵셔널 반환은 신중히 해라
- 아이템 67 : 최적화는 신중히 해라
