# Singleton Pattern

어플리케이션이 시작될 때 어떤 클래스가 최초 한번만 메모리를 할당하고(static) 

그 메모리에 인스턴스를 만들어 사용하는 디자인 패턴

하나의 인스턴스를 메모리에 등록해서 여러 쓰레드가 동시에 해당 인스턴스를 공유하여 사용할 수 있게 하기 때문에 요청이 많은 곳에서 사용하면 효율을 높일 수 있다.

* 싱글턴을 만들 때 동시성(Concurrency) 문제를 고려해서 설계해야한다.

#### 장점

- 고정된 메모리 영역을 얻으면서 한번의 new 로 인스턴스를 사용하기 때문에 메모리 낭비를 방지할 수 있다.
- 싱글턴으로 만들어진 클래스의 인스턴스는 전역이기 때문에 다른 클래스의 인스턴스들이 데이터를 공유하기 쉽다.
- 인스턴스가 절대적으로 한 개만 존재하는 것을 보증하고 싶을 경우 사용한다.
- 두번째 이용시부터는 객체 로딩 시간이 줄어 성능이 좋아지는 장점이 있다.

DBCP(DataBaseConnection Pool)처럼 공통된 객체를 여러개 생성해서 사용해야 하는 상황에서 많이 사용된다.

#### 단점

- 싱글턴 인스턴스가 너무 많은 일을 하거나 많은 데이터를 공유시킬 경우에 다른 클래스의 인스턴스들 간에 결합도가 높아져 "개방-폐쇄 원칙"을 위배하게 된다.
- 이는 객체 지향 설계 원칙에 어긋나기 때문에 수정이 어려워지고 유지보수의 비용이 높아질 수 있다.
- 또한 멀티스레드 환경에서 동기화 처리를 안하면 인스턴스가 2개가 생성될 수 있는 가능성이 생기게 된다.

이러한 이유로 싱글턴 패턴은 꼭 필요한 경우가 아니라면 지양해야한다.



##### 예시 구현

<https://github.com/9an9/Restaurant>

